// Mapear las compras segÃºn la estructura real del backend
const mappedPurchases: Purchase[] = (response.data.content || []).map((compra: any) => {
    console.log('Compra individual:', compra);
    
    // Mapear los items de la compra
    const mappedItems = (compra.items || []).map((item: any) => ({
        productId: String(item.producto?.id || ''),
        productName: item.nombreProducto || item.producto?.nombre || 'Producto',
        quantity: item.cantidad || 0,
        unitPrice: item.precioUnitario || 0,
        total: (item.cantidad || 0) * (item.precioUnitario || 0)
    }));

    return {
        id: String(compra.id),
        providerId: compra.proveedor?.id || 0,
        providerName: compra.proveedor?.nombreEmpresa || 'Proveedor desconocido',
        date: compra.fechaHora || new Date().toISOString(),
        total: compra.total || mappedItems.reduce((sum: number, item: any) => sum + item.total, 0),
        items: mappedItems,
        status: 'completed'
    };
});
